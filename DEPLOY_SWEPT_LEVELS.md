# üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è "Swept Levels" –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

‚úÖ –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `SweptLevelsTracker` –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `LiquidityEngine` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏" –≤ `/analysis`
‚úÖ Sweep Detector —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `swept_prices` –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚úÖ –í—Å—ë –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ –∏ –∑–∞–ø—É—à–µ–Ω–æ –Ω–∞ GitHub

---

## üñ•Ô∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ Debian —Å–µ—Ä–≤–µ—Ä–µ

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@simpleplate.aeza.network
```

### 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /opt/smartmoneyai-v3
```

### 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞
```bash
sudo systemctl stop smartmoneyai.service
```

### 4. –ü–æ–¥—Ç—è–Ω–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å GitHub
```bash
git pull origin main
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
remote: Enumerating objects: 21, done.
remote: Counting objects: 100% (21/21), done.
...
Fast-forward
 modules/liquidity/swept_tracker.py      | 135 ++++++++++++++++++++++++++
 modules/liquidity/sweep_detector.py     |  15 ++-
 modules/liquidity/liquidity_engine.py   |  23 ++++-
 modules/ai_explanations/deep_analyzer.py|  28 +++++-
 bot/handlers.py                          |  14 ++-
 SWEPT_LEVELS_LOGIC.md                    | 272 +++++++++++++++++++++++++
 6 files changed, 473 insertions(+), 2 deletions(-)
```

### 5. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
source venv/bin/activate
```

### 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
```bash
pip install -r requirements.txt
```

### 7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
```bash
sudo systemctl start smartmoneyai.service
```

### 8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
```bash
sudo journalctl -u smartmoneyai.service -f
```

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –ª–æ–≥–∞—Ö:**
```
‚úÖ Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
WebSocket –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–ø—É—â–µ–Ω: wss://open-api-swap.bingx.com/swap-market
üìä –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω —Å–∏–≥–Ω–∞–ª: ...
```

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑

**–ö–æ–º–∞–Ω–¥–∞ –≤ Telegram:**
```
/analysis
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
‚úÖ –ï—Å—Ç—å —Å–µ–∫—Ü–∏—è "üéØ –û–¢–†–ê–ë–û–¢–ê–ù–ù–´–ï –£–†–û–í–ù–ò (–∑–æ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫–∏—Ç–æ–≤)"
‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç swept —É—Ä–æ–≤–Ω–∏ (–µ—Å–ª–∏ –±—ã–ª–∏ sweeps)
‚úÖ –£–∫–∞–∑–∞–Ω role (support/resistance)
‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ "swept Nx - —Å—Ç–æ–ø—ã —Å–æ–±—Ä–∞–Ω—ã, —Ç–µ–ø–µ—Ä—å –∑–æ–Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–∞"

**–ü—Ä–∏–º–µ—Ä:**
```
üéØ –û–¢–†–ê–ë–û–¢–ê–ù–ù–´–ï –£–†–û–í–ù–ò (–∑–æ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫–∏—Ç–æ–≤):
üõ°Ô∏è $88,017.70 (-2.01%) - support
   sweep –≤–Ω–∏–∑, swept 1x - —Å—Ç–æ–ø—ã —Å–æ–±—Ä–∞–Ω—ã, —Ç–µ–ø–µ—Ä—å –∑–æ–Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–∞
```

### –¢–µ—Å—Ç 2: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è swept —É—Ä–æ–≤–Ω–µ–π

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
1. –î–æ–∂–¥–∏—Ç–µ—Å—å sweep —Å —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–º (sweep_down + post_reversal)
2. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ `/analysis`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ swept —É—Ä–æ–≤–µ–Ω—å:
   - ‚ùå –ù–ï –≤ —Å–µ–∫—Ü–∏–∏ "–ü–û–î –¶–ï–ù–û–ô" (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω)
   - ‚úÖ –í —Å–µ–∫—Ü–∏–∏ "–û–¢–†–ê–ë–û–¢–ê–ù–ù–´–ï –£–†–û–í–ù–ò"

### –¢–µ—Å—Ç 3: –õ–æ–≥–∏ sweep detection

**–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
üîÑ Sweep detected: down, post_reversal: True
üéØ Marked $88,017.70 as swept (direction: down)
‚úÖ Filtered 1 swept level(s) from stop_clusters
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Swept —É—Ä–æ–≤–Ω–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –±—ã–ª–æ sweeps —Å post_reversal

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∞–ª—å–Ω–æ–≥–æ sweep (—Ü–µ–Ω–∞ –ø—Ä–æ–±—å—ë—Ç —É—Ä–æ–≤–µ–Ω—å –∏ –≤–µ—Ä–Ω—ë—Ç—Å—è)
2. –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sweeps["post_reversal"]` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `True`

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ `swept_tracker`

**–ü—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª –Ω–µ –ø–æ–¥—Ç—è–Ω—É–ª—Å—è —Å git

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd /opt/smartmoneyai-v3
git status  # –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
git pull origin main --force  # –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥—Ç—è–Ω—É—Ç—å
```

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ä—ã–µ —É—Ä–æ–≤–Ω–∏ –≤—Å—ë –µ—â—ë –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** Swept —É—Ä–æ–≤–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏, –Ω—É–∂–µ–Ω —Ä–µ—Å—Ç–∞—Ä—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo systemctl restart smartmoneyai.service
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl status smartmoneyai.service
```

### –ñ–∏–≤—ã–µ –ª–æ–≥–∏
```bash
sudo journalctl -u smartmoneyai.service -f --lines=100
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ swept —É—Ä–æ–≤–Ω–µ–π (Python debug)
```bash
cd /opt/smartmoneyai-v3
source venv/bin/activate
python3 -c "
from modules.liquidity.swept_tracker import SweptLevelsTracker
tracker = SweptLevelsTracker()
tracker.mark_as_swept(88017.70, 'down', 'test')
print('Swept levels:', tracker.get_all_swept())
print('Is 88017 swept?', tracker.is_swept(88017.70))
"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Swept levels: [{'price': 88017.7, 'direction': 'down', 'timestamp': ..., 'reason': 'test', 'count': 1}]
Is 88017 swept? True
```

---

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ —Ä–∞–±–æ—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### –î–û:
```
–ë–ª–∏–∂–∞–π—à–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å: $88,017.70 (ATL)
–ü—Ä–æ–≥–Ω–æ–∑: DOWN –∫ $88,017.70
```
‚ùå –î–∞–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Ü–µ–Ω–∞ —É–∂–µ —Å—Ö–æ–¥–∏–ª–∞ —Ç—É–¥–∞

### –ü–û–°–õ–ï:
```
–ë–ª–∏–∂–∞–π—à–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å: $89,200 (swing_low)
–û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏: $88,017.70 (support)
–ü—Ä–æ–≥–Ω–æ–∑: –¢–µ—Å—Ç support $88,017, –µ—Å–ª–∏ –¥–µ—Ä–∂–∏—Ç ‚Üí UP
```
‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ + swept –∫–∞–∫ –∑–æ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–∞

---

## üìû –í–æ–ø—Ä–æ—Å—ã?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u smartmoneyai.service -f`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `sudo systemctl status smartmoneyai.service`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `sudo systemctl restart smartmoneyai.service`

–ï—Å–ª–∏ swept —É—Ä–æ–≤–Ω–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è:
- –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∞–ª—å–Ω–æ–≥–æ sweep —Å —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `sweeps["post_reversal"]` = `True` –≤ –ª–æ–≥–∞—Ö

---

**–ì–æ—Ç–æ–≤–æ! üöÄ**

–¢–µ–ø–µ—Ä—å –∞–ª–≥–æ—Ä–∏—Ç–º:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç swept —É—Ä–æ–≤–Ω–∏
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ö –∫–∞–∫ –∑–æ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- ‚úÖ –î—É–º–∞–µ—Ç –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–π —Ç—Ä–µ–π–¥–µ—Ä-–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª




