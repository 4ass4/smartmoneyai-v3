# üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ —Ç—Ä–µ–Ω–¥–∞ –∏ breakout detection

## ‚ùå –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã

### 1. **–†–∞—Å—á—ë—Ç –ø–æ –û–î–ù–û–ô —Å–≤–µ—á–µ** (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞!)

**–ë—ã–ª–æ –≤ sweep_detector.py:**
```python
last = df.iloc[-1]  # –¢–æ–ª—å–∫–æ –û–î–ù–ê –ø–æ—Å–ª–µ–¥–Ω—è—è —Å–≤–µ—á–∞!

# Sweep = –æ–¥–Ω–∞ —Å–≤–µ—á–∞ —Å —Ö–≤–æ—Å—Ç–æ–º
if last["high"] > highs.max() and last["close"] < highs.max():
    sweep_up = True
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Sweep –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è –ø–æ **–æ–¥–Ω–æ–π —Å–≤–µ—á–µ**
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç (–ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–≤–µ—á–∏)
- –ü—Ä–æ–ø—É—Å–∫–∞–ª–∏—Å—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã sweep –∏–∑ 2-3 —Å–≤–µ—á–µ–π
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –±—ã—Å—Ç—Ä—ã—Ö —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–≤

---

### 2. **SVD Intent –Ω–µ –º–µ–Ω—è–ª—Å—è –ø—Ä–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–µ —Ç—Ä–µ–Ω–¥–∞**

**–ë—ã–ª–æ –≤ svd_engine.py:**
```python
# –ü–†–ò–û–†–ò–¢–ï–¢ 1: –û–±—â–∏–π CVD
if cvd_value < -5.0:  # CVD = -85.69
    intent = "distributing"  # ‚Üê –ó–ê–°–¢–†–ï–í–ê–õ–û –ó–î–ï–°–¨!
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
–°–∏—Ç—É–∞—Ü–∏—è: CVD = -85.69 ‚Üí distributing

CVD –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞—Å—Ç–∏: -85 ‚Üí -80 ‚Üí -75 ‚Üí -70
CVD slope = +5.0 (–°–ò–õ–¨–ù–´–ô —Ä–æ—Å—Ç)

–ù–û: CVD –≤—Å—ë –µ—â—ë –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π
intent –æ—Å—Ç–∞—ë—Ç—Å—è "distributing"

–ê–ª–≥–æ—Ä–∏—Ç–º –ù–ï –í–ò–î–ò–¢ —Ä–∞–∑–≤–æ—Ä–æ—Ç —Ç—Ä–µ–Ω–¥–∞!
```

---

### 3. **–ù–µ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è breakout (–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–±–æ—è)**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Sweep = –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–∫–æ–ª —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º (1 —Å–≤–µ—á–∞) ‚úÖ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–ª—Å—è
- Breakout = –º–µ–¥–ª–µ–Ω–Ω—ã–π –ø—Ä–æ–±–æ–π —Å –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–µ–π (2-3 —Å–≤–µ—á–∏) ‚ùå –ù–ï –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–ª—Å—è

**–ü—Ä–∏–º–µ—Ä (–∏–∑ –≤–æ–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):**
```
–°–≤–µ—á–∞ 1: $89,200 (–±–ª–∏–∑–∫–æ –∫ $89,232)
–°–≤–µ—á–∞ 2: $89,260 (–≤—ã—à–µ $89,232) ‚úÖ
–°–≤–µ—á–∞ 3: $89,300 (–≤—ã—à–µ $89,232) ‚úÖ
–°–≤–µ—á–∞ 4: $89,350 (–≤—ã—à–µ $89,232) ‚úÖ

= BREAKOUT (–∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –≤—ã—à–µ —É—Ä–æ–≤–Ω—è)
–ù–û –∞–ª–≥–æ—Ä–∏—Ç–º –ù–ï –í–ò–î–ï–õ —ç—Ç–æ!
```

---

## ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ —Ç—Ä–µ–Ω–¥–∞** (svd_engine.py)

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```python
cvd_reversal_threshold = 2.0  # –ü–æ—Ä–æ–≥ –¥–ª—è —Å–∏–ª—å–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è slope

# –†–ê–ó–í–û–†–û–¢ –í–í–ï–†–•: CVD –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π, –ù–û slope —Å–∏–ª—å–Ω–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π
if cvd_value < 0 and cvd_slope > cvd_reversal_threshold:
    intent = "accumulating"  # –ù–∞—á–∞–ª–æ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –≤–≤–µ—Ä—Ö!
    reversal_detected = True
    logger.info(f"üîÑ –†–ê–ó–í–û–†–û–¢ –í–í–ï–†–•: CVD={cvd_value:.1f}, slope={cvd_slope:.1f}")

# –†–ê–ó–í–û–†–û–¢ –í–ù–ò–ó: CVD –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π, –ù–û slope —Å–∏–ª—å–Ω–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π
elif cvd_value > 0 and cvd_slope < -cvd_reversal_threshold:
    intent = "distributing"  # –ù–∞—á–∞–ª–æ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –≤–Ω–∏–∑!
    reversal_detected = True
    logger.info(f"üîÑ –†–ê–ó–í–û–†–û–¢ –í–ù–ò–ó: CVD={cvd_value:.1f}, slope={cvd_slope:.1f}")
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
```
–ë—ã–ª–æ:
CVD = -85 ‚Üí -80 ‚Üí -75 (slope +5.0)
intent = "distributing" (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)

–°—Ç–∞–ª–æ:
CVD = -85 ‚Üí -80 ‚Üí -75 (slope +5.0)
intent = "accumulating" (—Ä–∞–∑–≤–æ—Ä–æ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω!)
reversal_detected = True
–ë–æ–Ω—É—Å confidence: +1.5
```

---

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω sweep detector** (–∞–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞, –Ω–µ –æ–¥–Ω–æ–π —Å–≤–µ—á–∏!)

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```python
# –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 —Å–≤–µ—á–∏ –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ sweep
last_3 = df.iloc[-3:]
highs = df["high"].iloc[-(lookback + 1):-3]  # –ò—Å–∫–ª—é—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3

# SWEEP = –ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ 2-3 —Å–≤–µ—á–µ–π:
# 1. –û–¥–Ω–∞ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–≤–µ—á–µ–π –ø—Ä–æ–∫–∞–ª—ã–≤–∞—é—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –º–∞–∫—Å–∏–º—É–º
# 2. –ë–´–°–¢–†–´–ô –≤–æ–∑–≤—Ä–∞—Ç –≤–Ω–∏–∑

max_in_pattern = last_3["high"].max()
last_close = last_3.iloc[-1]["close"]

if max_in_pattern > historical_high and last_close < historical_high:
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ë–´–°–¢–†–´–ô –≤–æ–∑–≤—Ä–∞—Ç (—Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Å–≤–µ—á–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∏–∂–µ)
    for candle in last_3.itertuples():
        if candle.high > historical_high and candle.close < historical_high * 0.998:
            sweep_up = True
            break
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
```
–ë—ã–ª–æ:
–ê–Ω–∞–ª–∏–∑: 1 —Å–≤–µ—á–∞
–ü—Ä–æ–ø—É—Å–∫–∞–ª–∏—Å—å: –º–Ω–æ–≥–æ—Å–≤–µ—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

–°—Ç–∞–ª–æ:
–ê–Ω–∞–ª–∏–∑: 3 —Å–≤–µ—á–∏ (–ø–∞—Ç—Ç–µ—Ä–Ω)
–û–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è: sweep –∏–∑ 2-3 —Å–≤–µ—á–µ–π
–ü—Ä–æ–≤–µ—Ä–∫–∞: –±—ã—Å—Ç—Ä—ã–π –≤–æ–∑–≤—Ä–∞—Ç (–Ω–µ –º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ)
```

---

### 3. **–î–æ–±–∞–≤–ª–µ–Ω Breakout Detection** (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è!)

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ sweep_detector.py:**
```python
def detect_breakout(df, liquidity_level, direction="both", lookback=3):
    """
    –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç breakout (–ø—Ä–æ–±–æ–π —Å –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–µ–π)
    
    Breakout = 2-3 —Å–≤–µ—á–∏ –ø–æ–¥—Ä—è–¥ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤—ã—à–µ/–Ω–∏–∂–µ —É—Ä–æ–≤–Ω—è
    Sweep = –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–∫–æ–ª –∏ –≤–æ–∑–≤—Ä–∞—Ç (—Å–º. detect_sweep)
    """
    last_candles = df.iloc[-lookback:]
    
    # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–∫–æ–ª—å–∫–æ —Å–≤–µ—á–µ–π –∑–∞–∫—Ä—ã–ª–∏—Å—å –≤—ã—à–µ/–Ω–∏–∂–µ
    candles_above = sum(1 for c in last_candles.itertuples() if c.close > liquidity_level)
    
    # STRONG BREAKOUT: –í–°–ï —Å–≤–µ—á–∏ –≤—ã—à–µ —É—Ä–æ–≤–Ω—è
    if candles_above == lookback:
        return {
            "breakout_up": True,
            "strong_breakout": True,
            "consolidation_candles": lookback
        }
    
    # WEAK BREAKOUT: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–≤–µ—á–µ–π –≤—ã—à–µ (–º–∏–Ω–∏–º—É–º 2 –∏–∑ 3)
    elif candles_above >= lookback * 0.67:
        return {
            "breakout_up": True,
            "weak_breakout": True,
            "consolidation_candles": candles_above
        }
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ liquidity_engine.py:**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º breakout –¥–ª—è –±–ª–∏–∂–∞–π—à–µ–≥–æ —É—Ä–æ–≤–Ω—è —Å–≤–µ—Ä—Ö—É
if direction.get("direction") == "up":
    nearest_level_up = direction["nearest_up"]["price"]
    breakout_up = detect_breakout(df, nearest_level_up, direction="up", lookback=3)
    
    if breakout_up["breakout_up"]:
        logger.info(f"üìà BREAKOUT UP –æ–±–Ω–∞—Ä—É–∂–µ–Ω: –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è {breakout_up['consolidation_candles']} —Å–≤–µ—á–µ–π")
```

**–ë–æ–Ω—É—Å confidence –≤ decision_engine.py:**
```python
if breakout_up.get("strong_breakout") and signal == "BUY":
    final_confidence += 1.0  # –°–∏–ª—å–Ω—ã–π –±–æ–Ω—É—Å –∑–∞ —Å–∏–ª—å–Ω—ã–π breakout
    logger.info(f"üìà –°–ò–õ–¨–ù–´–ô BREAKOUT UP ‚Üí –±–æ–Ω—É—Å +1.0")

elif breakout_up.get("weak_breakout") and signal == "BUY":
    final_confidence += 0.5  # –°—Ä–µ–¥–Ω–∏–π –±–æ–Ω—É—Å –∑–∞ —Å–ª–∞–±—ã–π breakout
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: Sweep vs Breakout

### SWEEP (–ª–æ–≤—É—à–∫–∞):
```
–ü–∞—Ç—Ç–µ—Ä–Ω:
–°–≤–µ—á–∞ 1: $88,800 ‚Üí $89,300 (–±—ã—Å—Ç—Ä–æ –≤–≤–µ—Ä—Ö, —Ö–≤–æ—Å—Ç)
–°–≤–µ—á–∞ 2: $89,000 (–≤–æ–∑–≤—Ä–∞—Ç –≤–Ω–∏–∑)
–°–≤–µ—á–∞ 3: $88,700 (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤–Ω–∏–∑)

CVD: üü¢ –∫–æ—Ä–æ—Ç–∫–∏–π –±–∞—Ä ‚Üí üî¥üî¥ –∫—Ä–∞—Å–Ω—ã–µ –±–∞—Ä—ã

–ê–ª–≥–æ—Ä–∏—Ç–º:
- sweep_up = True
- post_reversal = True
- Confidence: +0.3 (–¥–ª—è SELL)
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: SELL –ø–æ—Å–ª–µ —Å–≤–∏–ø–∞
```

### BREAKOUT (–Ω–∞—Å—Ç–æ—è—â–µ–µ –¥–≤–∏–∂–µ–Ω–∏–µ):
```
–ü–∞—Ç—Ç–µ—Ä–Ω:
–°–≤–µ—á–∞ 1: $89,240 (–∑–∞–∫—Ä—ã—Ç–∏–µ –≤—ã—à–µ $89,232) ‚úÖ
–°–≤–µ—á–∞ 2: $89,300 (–∑–∞–∫—Ä—ã—Ç–∏–µ –≤—ã—à–µ $89,232) ‚úÖ
–°–≤–µ—á–∞ 3: $89,350 (–∑–∞–∫—Ä—ã—Ç–∏–µ –≤—ã—à–µ $89,232) ‚úÖ

CVD: üü¢üü¢üü¢ —É—Å—Ç–æ–π—á–∏–≤—ã–µ –∑–µ–ª—ë–Ω—ã–µ –±–∞—Ä—ã (—Ä–∞—Å—Ç—ë—Ç)

–ê–ª–≥–æ—Ä–∏—Ç–º:
- breakout_up = True
- strong_breakout = True (–≤—Å–µ 3 —Å–≤–µ—á–∏)
- Confidence: +1.0 (–¥–ª—è BUY)
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: BUY (breakout –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω)
```

---

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–π –∏–∑ –≤–æ–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–í–æ–ø—Ä–æ—Å:**
> "–ï—Å–ª–∏ —Ü–µ–Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ $89,232 –ò –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –µ–µ –±–µ–∑ —Å–≤–∏–ø–∞, —á—Ç–æ –¥–µ–ª–∞—Ç—å?"

### –î–û —É–ª—É—á—à–µ–Ω–∏–π:

```
–°–∏—Ç—É–∞—Ü–∏—è:
–¶–µ–Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞—Å—Ç—ë—Ç: $88,800 ‚Üí $89,200 ‚Üí $89,250 ‚Üí $89,300
CVD: -85 ‚Üí -80 ‚Üí -75 (–Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞—Å—Ç–∏)

–ê–ª–≥–æ—Ä–∏—Ç–º:
- SVD Intent: distributing (CVD –≤—Å—ë –µ—â—ë –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π)
- Sweep: –ù–ï–¢ (–º–µ–¥–ª–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ)
- Breakout: –ù–ï –û–ë–ù–ê–†–£–ñ–ò–í–ê–ï–¢–°–Ø (—Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ—Ç)
- –°–∏–≥–Ω–∞–ª: WAIT

–ü—Ä–æ–±–ª–µ–º–∞: –ê–ª–≥–æ—Ä–∏—Ç–º –ü–†–û–ü–£–°–¢–ò–õ —Ä–∞–∑–≤–æ—Ä–æ—Ç –∏ breakout!
```

### –ü–û–°–õ–ï —É–ª—É—á—à–µ–Ω–∏–π:

```
–°–∏—Ç—É–∞—Ü–∏—è:
–¶–µ–Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞—Å—Ç—ë—Ç: $88,800 ‚Üí $89,200 ‚Üí $89,250 ‚Üí $89,300
CVD: -85 ‚Üí -80 ‚Üí -75 (slope = +5.0)

–ê–ª–≥–æ—Ä–∏—Ç–º:
1. –†–ê–ó–í–û–†–û–¢ –û–ë–ù–ê–†–£–ñ–ï–ù:
   - CVD = -75 (–æ—Ç—Ä–∏—Ü.), slope = +5.0 (—Å–∏–ª—å–Ω–æ —Ä–∞—Å—Ç—ë—Ç)
   - SVD Intent: accumulating (—Ä–∞–∑–≤–æ—Ä–æ—Ç –≤–≤–µ—Ä—Ö!)
   - reversal_detected = True
   - Confidence: +1.5

2. BREAKOUT –û–ë–ù–ê–†–£–ñ–ï–ù:
   - 3 —Å–≤–µ—á–∏ –ø–æ–¥—Ä—è–¥ –≤—ã—à–µ $89,232
   - strong_breakout = True
   - Confidence: +1.0

3. –ò—Ç–æ–≥–æ–≤–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å:
   - Base: 4.0
   - –†–∞–∑–≤–æ—Ä–æ—Ç: +1.5
   - Breakout: +1.0
   - CVD confirms: +0.4
   - –ò—Ç–æ–≥–æ: 6.9/10 (> 6.5 ‚úÖ)

4. –°–∏–≥–Ω–∞–ª: BUY (confidence 6.9/10)

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ê–ª–≥–æ—Ä–∏—Ç–º –û–ë–ù–ê–†–£–ñ–ò–õ —Ä–∞–∑–≤–æ—Ä–æ—Ç –∏ breakout!
```

---

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `modules/svd/svd_engine.py`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ —Ç—Ä–µ–Ω–¥–∞
- ‚úÖ –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `cvd_reversal_threshold = 2.0`
- ‚úÖ –õ–æ–≥–∏–∫–∞: CVD –æ—Ç—Ä–∏—Ü. + slope —Å–∏–ª—å–Ω–æ –ø–æ–ª–æ–∂. = —Ä–∞–∑–≤–æ—Ä–æ—Ç –≤–≤–µ—Ä—Ö
- ‚úÖ –õ–æ–≥–∏–∫–∞: CVD –ø–æ–ª–æ–∂. + slope —Å–∏–ª—å–Ω–æ –æ—Ç—Ä–∏—Ü. = —Ä–∞–∑–≤–æ—Ä–æ—Ç –≤–Ω–∏–∑
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ return: `cvd_reversal_detected`
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–≤: "üîÑ –†–ê–ó–í–û–†–û–¢ –í–í–ï–†–•/–í–ù–ò–ó"

### 2. `modules/liquidity/sweep_detector.py`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω sweep detector: –∞–Ω–∞–ª–∏–∑ 3 —Å–≤–µ—á–µ–π (–Ω–µ 1)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ (–Ω–µ –º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `detect_breakout()`:
  - Strong breakout (–≤—Å–µ —Å–≤–µ—á–∏ –≤—ã—à–µ/–Ω–∏–∂–µ)
  - Weak breakout (–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–≤–µ—á–µ–π)
  - Consolidation candles (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π)
  - Average distance % (—Å—Ä–µ–¥–Ω—è—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –æ—Ç —É—Ä–æ–≤–Ω—è)

### 3. `modules/liquidity/liquidity_engine.py`
- ‚úÖ –ò–º–ø–æ—Ä—Ç `detect_breakout`
- ‚úÖ –í—ã–∑–æ–≤ breakout detection –¥–ª—è –±–ª–∏–∂–∞–π—à–∏—Ö —É—Ä–æ–≤–Ω–µ–π
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: "üìà BREAKOUT UP –æ–±–Ω–∞—Ä—É–∂–µ–Ω"
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ return: `breakout_up`, `breakout_down`

### 4. `modules/decision/decision_engine.py`
- ‚úÖ –ë–æ–Ω—É—Å +1.5 –∑–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ —Ç—Ä–µ–Ω–¥–∞
- ‚úÖ –ë–æ–Ω—É—Å +1.0 –∑–∞ strong breakout
- ‚úÖ –ë–æ–Ω—É—Å +0.5 –∑–∞ weak breakout
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: "üîÑ –†–ê–ó–í–û–†–û–¢ –¢–†–ï–ù–î–ê", "üìà –°–ò–õ–¨–ù–´–ô BREAKOUT UP"

---

## üéì –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ—à–∞–≥–æ–≤–æ)

### –®–∞–≥ 1: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞

```python
# –í svd_engine.py
if cvd_value < 0 and cvd_slope > 2.0:
    intent = "accumulating"  # –†–∞–∑–≤–æ—Ä–æ—Ç!
    reversal_detected = True
```

**–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- CVD = -85 (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π)
- CVD slope = +5.0 (—Å–∏–ª—å–Ω–æ —Ä–∞—Å—Ç—ë—Ç)
- –ö–∏—Ç—ã –Ω–∞—á–∞–ª–∏ –ø–æ–∫—É–ø–∞—Ç—å!

### –®–∞–≥ 2: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ breakout

```python
# –í liquidity_engine.py
breakout = detect_breakout(df, level=$89,232, lookback=3)

if breakout["strong_breakout"]:
    # –í—Å–µ 3 —Å–≤–µ—á–∏ –∑–∞–∫—Ä—ã–ª–∏—Å—å –≤—ã—à–µ —É—Ä–æ–≤–Ω—è
    confidence += 1.0
```

**–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- –°–≤–µ—á–∞ 1: close = $89,250 (> $89,232) ‚úÖ
- –°–≤–µ—á–∞ 2: close = $89,300 (> $89,232) ‚úÖ
- –°–≤–µ—á–∞ 3: close = $89,350 (> $89,232) ‚úÖ

### –®–∞–≥ 3: –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ

```python
# –í decision_engine.py
if reversal_detected:
    confidence += 1.5  # –ë–æ–Ω—É—Å –∑–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç

if breakout_strong:
    confidence += 1.0  # –ë–æ–Ω—É—Å –∑–∞ breakout

if confidence >= 6.5:
    signal = "BUY"  # –¢–æ—Ä–≥—É–µ–º!
else:
    signal = "WAIT"  # –ñ–¥—ë–º
```

---

## üí° –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏

### –ü—Ä–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–µ —Ç—Ä–µ–Ω–¥–∞:
```
üîÑ –†–ê–ó–í–û–†–û–¢ –í–í–ï–†–•: CVD=-75.2 (–æ—Ç—Ä–∏—Ü.), slope=5.3 (—Ä–∞—Å—Ç—ë—Ç)
üìä –ì–û–õ–û–°–û–í–ê–ù–ò–ï: BUY=7.0, SELL=1.5
üîÑ –†–ê–ó–í–û–†–û–¢ –¢–†–ï–ù–î–ê: CVD=-75.2, slope=5.3 ‚Üí –±–æ–Ω—É—Å +1.5
```

### –ü—Ä–∏ breakout:
```
üìà BREAKOUT UP –æ–±–Ω–∞—Ä—É–∂–µ–Ω: $89232.70, consolidation: 3 —Å–≤–µ—á–µ–π, strong: True
üìà –°–ò–õ–¨–ù–´–ô BREAKOUT UP: –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è 3 —Å–≤–µ—á–µ–π ‚Üí –±–æ–Ω—É—Å +1.0
üìä –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω —Å–∏–≥–Ω–∞–ª: BUY (confidence: 7.2/10)
```

### –ü—Ä–∏ sweep (–ª–æ–≤—É—à–∫–∞):
```
‚ö†Ô∏è Sweep –æ–±–Ω–∞—Ä—É–∂–µ–Ω: –ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ 3 —Å–≤–µ—á–µ–π, –±—ã—Å—Ç—Ä—ã–π –≤–æ–∑–≤—Ä–∞—Ç
üö´ SVD VETO: –ö–∏—Ç—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç, –±–ª–æ–∫–∏—Ä—É—é BUY ‚Üí WAIT
```

---

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. **–†–∞–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–≤:**
- ‚úÖ –ù–µ –∂–¥—ë–º –ø–æ–∫–∞ CVD —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º
- ‚úÖ –í—Ö–æ–¥–∏–º –Ω–∞ **–Ω–∞—á–∞–ª–µ** —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ (–ª—É—á—à–∞—è —Ü–µ–Ω–∞)
- ‚úÖ –ë–æ–Ω—É—Å confidence +1.5 (–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π)

### 2. **–†–∞–∑–ª–∏—á–µ–Ω–∏–µ sweep vs breakout:**
- ‚úÖ Sweep (–ª–æ–≤—É—à–∫–∞) ‚Üí WAIT –∏–ª–∏ SELL
- ‚úÖ Breakout (–Ω–∞—Å—Ç–æ—è—â–µ–µ –¥–≤–∏–∂–µ–Ω–∏–µ) ‚Üí BUY
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ (3 —Å–≤–µ—á–∏), –Ω–µ –æ–¥–Ω–æ–π —Å–≤–µ—á–∏

### 3. **–û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- ‚úÖ "–ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —É—Ä–æ–≤–Ω—é" = breakout detection
- ‚úÖ –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –≤—ã—à–µ —É—Ä–æ–≤–Ω—è = strong breakout
- ‚úÖ –ê–ª–≥–æ—Ä–∏—Ç–º –¥–∞—Å—Ç BUY —Å –≤—ã—Å–æ–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø–æ—Ä–æ–≥–∏

### –†–∞–∑–≤–æ—Ä–æ—Ç —Ç—Ä–µ–Ω–¥–∞:
```python
cvd_reversal_threshold = 2.0
```
- CVD slope > 2.0 = —Å–∏–ª—å–Ω—ã–π —Ä–æ—Å—Ç (—Ä–∞–∑–≤–æ—Ä–æ—Ç –≤–≤–µ—Ä—Ö)
- CVD slope < -2.0 = —Å–∏–ª—å–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ (—Ä–∞–∑–≤–æ—Ä–æ—Ç –≤–Ω–∏–∑)

### Breakout:
```python
lookback = 3  # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º 3 –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–≤–µ—á–∏

strong_breakout = candles_above == 3  # –í–°–ï 3 —Å–≤–µ—á–∏ –≤—ã—à–µ
weak_breakout = candles_above >= 2    # –ú–∏–Ω–∏–º—É–º 2 –∏–∑ 3
```

### –ë–æ–Ω—É—Å—ã confidence:
- –†–∞–∑–≤–æ—Ä–æ—Ç —Ç—Ä–µ–Ω–¥–∞: **+1.5**
- Strong breakout: **+1.0**
- Weak breakout: **+0.5**
- Sweep —Å —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–º: **+0.3**

---

## üéØ –ò—Ç–æ–≥–∏

**–ë—ã–ª–æ:**
- ‚ùå Sweep –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è –ø–æ 1 —Å–≤–µ—á–µ
- ‚ùå –†–∞–∑–≤–æ—Ä–æ—Ç –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–ª—Å—è (CVD –∑–∞—Å—Ç—Ä–µ–≤–∞–ª)
- ‚ùå Breakout –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–ª—Å—è (—Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –±—ã–ª–æ)

**–°—Ç–∞–ª–æ:**
- ‚úÖ Sweep –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø–æ 3 —Å–≤–µ—á–∞–º (–ø–∞—Ç—Ç–µ—Ä–Ω)
- ‚úÖ –†–∞–∑–≤–æ—Ä–æ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è (CVD slope > 2.0)
- ‚úÖ Breakout –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è (–∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è 2-3 —Å–≤–µ—á–∏)
- ‚úÖ –†–∞–Ω–Ω–∏–π –≤—Ö–æ–¥ –≤ —Ä–∞–∑–≤–æ—Ä–æ—Ç (–±–æ–Ω—É—Å +1.5)
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ breakout (–±–æ–Ω—É—Å +1.0)

**–¢–µ–ø–µ—Ä—å –∞–ª–≥–æ—Ä–∏—Ç–º:**
- üîÑ –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–≤–æ—Ä–æ—Ç—ã —Ç—Ä–µ–Ω–¥–∞
- üìà –†–∞–∑–ª–∏—á–∞–µ—Ç sweep (–ª–æ–≤—É—à–∫–∞) vs breakout (–Ω–∞—Å—Ç–æ—è—â–µ–µ –¥–≤–∏–∂–µ–Ω–∏–µ)
- üéØ –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ = breakout)
- üß† –î—É–º–∞–µ—Ç –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–π–¥–µ—Ä!

---

**–ê–≤—Ç–æ—Ä:** –í –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "–ö–∞–∫ —Ä–∞—Å—á–∏—Ç—ã–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–π —Å–≤–µ—á–µ?" –∏ "–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–º –ø–æ–¥—Ö–æ–¥–µ –∫ —É—Ä–æ–≤–Ω—é?"

**–î–∞—Ç–∞:** 7 –¥–µ–∫–∞–±—Ä—è 2025

